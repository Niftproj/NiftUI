const NIFT_UI_SUPPORT_VERSION="ZERO_ONE",NIFT_UI_VERSION="0.1",NIFT_CANVAS_ID="niftCanvas"+NIFT_UI_SUPPORT_VERSION,getCurrentRoute=()=>window.location.pathname;class NiftInstance{constructor(t="default"){"default"==t&&(t=document.getElementById("niftBody")),this.parent=t,this.routes=!1,this.niftarea=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.niftarea.setAttribute("data-niftver",NIFT_UI_VERSION),this.niftarea.setAttribute("data-niftsupport",NIFT_UI_SUPPORT_VERSION),this.niftarea.setAttribute("id",NIFT_CANVAS_ID),this.niftarea.setAttribute("x",0),this.niftarea.setAttribute("y",0),this.parent.appendChild(this.niftarea),this.updateOn="mousevent"}initialize=t=>{this.routes=t};renderElement=(t=new NiftComponent)=>{t.BeforRendering(),this.niftarea.appendChild(t.innerRender()),t.AfterRendering()};compile=()=>{this.routes.map(t=>{t.getPath()==getCurrentRoute()&&this.renderElement(t.setupAndRender())})}}class NiftRoute{constructor(t,e){this.path=t,this.component=e}getPath=()=>this.path;setupAndRender=()=>this.component}class NiftProperty{constructor(t,e){this.name=t,this.value=e}}class NiftNode{constructor(){this.parent="default",this.self=!1,this.selfDOM=!1}}class NiftComponent extends NiftNode{constructor(t="default"){super(),"default"==t&&(t=document.getElementById("niftBody")),this.parent=t,this.self=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this.props=[],this.childs=[],this.selfDOM=!1}BeforRendering=()=>{};AfterRendering=()=>{};render=()=>{};innerRender=()=>{let t=new DOMParser;this.selfDOM=t.parseFromString(this.render(),"text/html").all[3];for(const l in this.selfDOM.attributes){var e;Object.hasOwnProperty.call(this.selfDOM.attributes,l)&&(e=this.selfDOM.attributes[l],this.props.push(new NiftProperty(e.nodeName,e.nodeValue)))}let s=0,n=0,r=s+0,i=n+0,a=!1,o=(this.props.map(t=>{"x"==t.name?s=parseInt(t.value):"y"==t.name?n=parseInt(t.value):"w"==t.name?r=parseInt(t.value):"h"==t.name?i=parseInt(t.value):"background"==t.name?this.self.setAttribute("fill",t.value):"niftskip"==t.name?"true"==t.value&&(a=!0):this.self.setAttribute(t.name,t.value)}),r+=s,i+=n,[{x:s,y:n},{x:r,y:n},{x:r,y:i},{x:s,y:i}]);var h=o.reduce((t,e)=>t+parseInt(e.x)+","+parseInt(e.y)+" ","");return this.self.setAttribute("points",h),1==a?this.selfDOM:this.self}}